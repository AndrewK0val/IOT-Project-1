<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet", href="style/stylesheet.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600;700;800;900&family=Roboto+Slab&display=swap" rel="stylesheet">`
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <title>Document</title>
</head>

<header>
    <h1>SLS Mission Control</h1>

    <h3>IOT Project by Andrew Koval</h3>
</header>
<body class = "container">
    
        <!-- <div class="col"> -->

    <section class="container">
                <div class="row">
        
                    <div class="col">
                        <h5>Humidity</h5>
                        <h4 id="humidity"> </h4>
                    </div>
                    <div class="col" >
                        <h5> Air Temperature </h5>
                        <h4 id="temperature"> </h4>
            
                    </div>
            
                    <div class="col" >
                        <h5>Light Level</h5>
                        <h4 id="lightLevel"></h4>
            
                    </div>
            
                    <div class="col" >
                        <h5>Air Pressure</h5>
                        <h4 id="airPressure"></h4>
            
                    </div>
                    
                    <div class="col" >
                        <h5>Soil Moisture</h5>
                        <h4 id="soilMoisture"></h4>

                </div>
            
        
     
        <h3>
                Graphs
        </h3>

    <div class="graphs">

          <div>
              
              <iframe src="https://thingspeak.com/channels/1704411/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&up" frameborder="0"></iframe>
          </div>

          <div>
            <iframe src="https://thingspeak.com/channels/1704411/charts/2?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15" frameborder="0"></iframe>
          </div>

          <div>
            <iframe src="https://thingspeak.com/channels/1704411/charts/3?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15" frameborder="0"></iframe>
          </div>

          <div>
            <iframe src="https://thingspeak.com/channels/1704411/charts/4?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15" frameborder="0"></iframe>
        </div>

        <div>
          <iframe src="https://thingspeak.com/channels/1704411/charts/5?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15" frameborder="0"></iframe>
        </div>


    </section>
    
</section>
     
    <!-- </div> -->
</body>



<footer>


</footer>

<script>
    $(document).ready(function() {
    $.ajax({
      url: 'https://api.thingspeak.com/channels/1704411/fields/field1/last.txt?api_key=VT1WHAHW6ZJ7B5ZL&results=1&format=text',
      type: 'GET',
      data: {
        format: 'text'
      },
      success: function(response) {
      //  alert(response);
      document.getElementById('humidity').innerHTML = response;
      },
      error: function() {
        $('#errors').text("There was an error processing your request. Please try again.");
      }
    });
    $.ajax({
      url: 'https://api.thingspeak.com/channels/1704411/fields/field3/last.txt?api_key=VT1WHAHW6ZJ7B5ZL&results=1&format=text',
      type: 'GET',
      data: {
        format: 'text'
      },
      success: function(response) {
      //  alert(response);
      document.getElementById('temperature').innerHTML = response + "Â°C";
      },
      error: function() {
        $('#errors').text("There was an error processing your request. Please try again.");
      }
    });
    $.ajax({
      url: 'https://api.thingspeak.com/channels/1704411/fields/field4/last.txt?api_key=VT1WHAHW6ZJ7B5ZL&results=1&format=text',
      type: 'GET',
      data: {
        format: 'text'
      },
      success: function(response) {
      //  alert(response);
      document.getElementById('soilMoisture').innerHTML = response;
      },
      error: function() {
        $('#errors').text("There was an error processing your request. Please try again.");
      }
    });
    $.ajax({
      url: 'https://api.thingspeak.com/channels/1704411/fields/field2/last.txt?api_key=VT1WHAHW6ZJ7B5ZL&results=1&format=text',
      type: 'GET',
      data: {
        format: 'text'
      },
      success: function(response) {
      //  alert(response);
      document.getElementById('airPressure').innerHTML = response;
      },
      error: function() {
        $('#errors').text("There was an error processing your request. Please try again.");
      }
    });
    $.ajax({
      url: 'https://api.thingspeak.com/channels/1704411/fields/field5/last.txt?api_key=VT1WHAHW6ZJ7B5ZL&results=1&format=text',
      type: 'GET',
      data: {
        format: 'text'
      },
      success: function(response) {
      //  alert(response);
      document.getElementById('lightLevel').innerHTML = response;
      },
      error: function() {
        $('#errors').text("There was an error processing your request. Please try again.");
      }
    });



});
</script>

</html>

